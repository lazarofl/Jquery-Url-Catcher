(function(e,t,n,r){function a(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="UrlCatcher",s={urlRegex:/(https?:\/\/)?([\dA-Za-z\._-]+)\.([A-Za-z\.]{2,6})([\/\w\._\-=\?]*)*\/?/,callback:"",cancel:"",cancelCallback:r};var o="";var u=false;a.prototype={init:function(){a.prototype.addKeyupHandler(this.element,this.options);a.prototype.addClearHandler(this.options)},addKeyupHandler:function(t,n){e(t).keyup(function(){a.prototype.verifyClearText(e(t).val());a.prototype.verifyNewUrl(e(t).val(),n.urlRegex,n.callback)})},addClearHandler:function(t){e(t.cancel).click(function(){o="";if(t.cancelCallback!=r&&t.cancelCallback!=null){t.cancelCallback()}})},verifyClearText:function(e){if(e==""&&u==true)u=false},verifyNewUrl:function(e,t,n){var i=e.match(t);if(i!=r&&i!=null&&i.length>0&&o==""&&u==false){var s=e.indexOf(i[0]);if(e.length>s+i[0].length){o=i[0];u=true;n(o)}}}};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new a(this,t))}})}})(jQuery,window,document)